<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <!-- 
        什么是Set()
        new set()是es6新增的数据结构，类似于数组，但它的一大特性就是所有元素都是唯一的，没有重复的值，
        我们一般称为集合，Set本身是一个构造函数，用来生成 Set 数据结构
    --> 
    <script>
 
        /**
         * new Set()
         * Set增删改查方法
         * 遍历Set
         * Set用于数组去重、用于字符串去重、
         * 实现两个Set集合之间的 并集、交集、和差集
         */
  


        // 1、增 add
        // 添加某个值，返回 Set 结构本身，当添加实例中已经存在的元素，set不会进行处理添加
        let list = new Set([5, 6, 6])
        console.log(list) // Set(2) {5, 6}
        list.add(1)
        list.add(2).add(4).add(4)
        console.log(list) // Set(5) {5, 6, 1, 2, 4}
   
        // 2、删 delete
        // 删除某个值，返回一个布尔值，表示删除是否成功
        let list2 = new Set([5, 6, 6])
        list2.add(3).add(4)
        console.log(list2.delete(3)) // true
        console.log(list2) // Set(3) {5, 6, 4}

        // 3、查 has
        // 返回一个布尔值，判断该值是否为Set的成员
        let list3 = new Set([5, 6, 6])
        console.log(list3.has(4)) // false

        // 4、清空 clear
        // 清除所有成员，没有返回值
        let list4 = new Set([5, 6, 6])
        list4.clear()
        console.log(list4) // Set(0) {size: 0}
//--------------------------------------------------------------------------------
console.log("//--------------------------------------------------------------------------------")



 
        // 遍历方法
        
        // 1、keys()
        let doc = new Set(['zhang', 'wang', 'chen'])
        console.log(doc) // Set(3) {'zhang', 'wang', 'chen'}
        console.log(doc.keys()) // SetIterator {'zhang', 'wang', 'chen'}

        for (const value of doc.keys()) {
            console.log(value) // zhang wang chen
        }

        // 2、values()
        console.log(doc.values()) // SetIterator {'zhang', 'wang', 'chen'}

        for (const value of doc.keys()) {
            console.log(value) // zhang wang chen   
        }

        // 3、entries()
        console.log(doc.entries()) // SetIterator {'zhang' => 'zhang', 'wang' => 'wang', 'chen' => 'chen'}
        for (const value of doc.entries()) {
            console.log(value) //  ['zhang', 'zhang']  |　　 ['wang', 'wang']　｜　['chen', 'chen']
        }

        // 4、forEach()
        doc.forEach(function(value, key){
            console.log(value + ':'+ key) // zhang:zhang  | wang:wang | chen:chen
        })
//--------------------------------------------------------------------------------
console.log("//--------------------------------------------------------------------------------")





        // 使用情形
        
        // 1、数组去重
        let arr = [3, 5, 2, 2, 5, 5];
        let newArr = new Set(arr)
        console.log(newArr) // Set(3) {3, 5, 2}

        //方法一   es6的...解构 转成数组
        let unique = [...newArr]
        console.log(unique) // [3, 5, 2]

        //方法二  Array.from()解析 类数组 为 数组
        let unique2 = Array.from(newArr)
        console.log(unique2) // [3, 5, 2]



        // 2、字符串去重
        let str = "35cc22a5ca5";
        let newStr = [...new Set(str)].join("")
        console.log(newStr) // 35c2a




        // 3、实现并集、交集、差集
        let a = new Set([1, 2, 3]);
        let b = new Set([4, 3, 2]);

        // 并集
        let union = new Set([...a, ...b]);
        // Set {1, 2, 3, 4}

        // 交集
        let intersect = new Set([...a].filter(x => b.has(x)));
        // set {2, 3}

        // （a 相对于 b 的）差集
        let difference = new Set([...a].filter(x => !b.has(x)));
        // Set {1}
//--------------------------------------------------------------------------------
console.log("//--------------------------------------------------------------------------------")












    </script>
</body>
</html>